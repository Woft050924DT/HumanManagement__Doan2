<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bรกo cรกo gแปญi giรกm ฤแปc - HRMS</title>
    <link rel="stylesheet" href="styles/dashboard.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="dashboard">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>HRMS Dashboard</h2>
                <p id="userWelcome">Xin chรo, Giรกm ฤแปc</p>
            </div>
            <a href="giamdoc-tongquan.html" class="menu-item">
                <span class="menu-icon">๐</span>
                <span>Tแปng quan</span>
            </a>
            <a href="giamdoc.html" class="menu-item active">
                <span class="menu-icon">๐</span>
                <span>Bรกo cรกo gแปญi lรชn</span>
            </a>
            <a href="giamdoc-tonghop.html" class="menu-item">
                <span class="menu-icon">๐</span>
                <span>Tแปng hแปฃp bรกo cรกo</span>
            </a>
        </div>

        <div class="main-content">
            <div class="content-header">
                <h1>๐ Bรกo cรกo gแปญi lรชn giรกm ฤแปc</h1>
                <button class="logout-btn" onclick="logout()">ฤฤng xuแบฅt</button>
            </div>

            <div style="margin-bottom: 20px; display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                <label style="font-weight: 500;">Lแปc theo trแบกng thรกi:</label>
                <select id="filterStatus" style="padding: 8px 15px; border: 2px solid #e1e1e1; border-radius: 6px; font-size: 14px; cursor: pointer;" onchange="filterReports()">
                    <option value="all">Tแบฅt cแบฃ</option>
                    <option value="new">Chฦฐa ฤแปc</option>
                    <option value="read">ฤรฃ ฤแปc</option>
                </select>
                <button class="btn btn-primary" onclick="markAllAsRead()" style="margin-left: auto;">ฤรกnh dแบฅu tแบฅt cแบฃ ฤรฃ ฤแปc</button>
            </div>

            <div class="data-table">
                <h2>Danh sรกch bรกo cรกo ฤรฃ nhแบญn</h2>
                <div style="margin-bottom: 15px; padding: 10px; background: #e3f2fd; border-radius: 6px; display: flex; align-items: center; gap: 10px;">
                    <span style="font-weight: 500;">๐ฌ Bรกo cรกo chฦฐa ฤแปc: <span id="unreadCount" style="color: #1976d2; font-weight: bold;">0</span></span>
                </div>
                <table id="giamdocTable">
                    <thead>
                        <tr>
                            <th>Trแบกng thรกi</th>
                            <th>Loแบกi bรกo cรกo</th>
                            <th>Kแปณ bรกo cรกo</th>
                            <th>Ngฦฐแปi gแปญi</th>
                            <th>Ngรy gแปญi</th>
                            <th>Hรnh ฤแปng</th>
                        </tr>
                    </thead>
                    <tbody id="giamdocTableBody">
                        <!-- Dแปฏ liแปu sแบฝ ฤฦฐแปฃc render tแปฑ ฤแปng tแปซ JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal Xem bรกo cรกo -->
    <div id="baoCaoModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2 id="baoCaoModalTitle">Chi tiแบฟt bรกo cรกo</h2>
                <span class="close" onclick="closeBaoCaoModal()">&times;</span>
            </div>
            <div class="modal-body" id="baoCaoModalBody" style="max-height: 70vh; overflow-y: auto;">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeBaoCaoModal()">ฤรณng</button>
                <button type="button" class="btn btn-success" id="downloadBtn" onclick="downloadCurrentBaoCao()">Tแบฃi vแป PDF</button>
            </div>
        </div>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="toast"></div>

    <script src="js/giamdoc.js"></script>
</body>
</html>
